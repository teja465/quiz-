<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
    integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
    crossorigin="anonymous"
  />
  <script
    src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
    crossorigin="anonymous"
  ></script>
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
    crossorigin="anonymous"
  ></script>


    <style>
        .question{
            border: 5 px solid black;
            background-color: white;
            margin-top: 2%;
            margin-left: auto;
            padding: 10px 50px 10px 50px;

        }
        body{
            background-color: skyblue;
        }
        .option{
            margin-bottom:1%;
        }
        button{
            border-radius: 5px;
            max-width: 20%;
            margin-left: 2%;
        }



    </style>
</head>
<body>
    <h3> select correct answers for all of the below  questions </h3>

    <div id="questions_space">


        {% for qn in qns %}
        <div class="question">
            <h3>{{qn.question}}</h3>
            <div class="options" >
                <div class="option">
                A:<button  id="{{qn.id}}a" onclick="validate_answer('{{qn.id}}','{{qn.answer}}','a')">{{qn.a}}</button>
                </div>

                 <div class="option">
                    B:<button  id="{{qn.id}}b" onclick="validate_answer('{{qn.id}}','{{qn.answer}}','b')">{{qn.b}}</button>
                   
                 </div>
                 

                <div class="option">
                    C:<button  id="{{qn.id}}c"   onclick="validate_answer('{{qn.id}}','{{qn.answer}}','c')">{{qn.c}}</button>
                </div>
                <div class="option">
                        D:<button   id="{{qn.id}}d"  onclick="validate_answer('{{qn.id}}','{{qn.answer}}','d')">{{qn.d}}</button>
                </div>
                <div id={{qn.id}}>

                </div>


            </div>
        </div>
        
        {% endfor %}


    </div>
    <br>
    <button  style="width:15%;margin-bottom:10%;margin-left:15%" onclick="check()">check score </button>
    <script>
        var score=0;
        var total=0;

        function validate_answer(id,ans,clicked){
            var but_clicked=id+clicked
            var t=document.getElementById(but_clicked);
            console.log(t,"tt")
            
            console.log(but_clicked,"but_clciked")
            if(ans==clicked){
                
                score+=1;
                document.getElementById(id).innerHTML="Correct<br>"
                t.classList.add("btn-success")
                

            


            }
            else{
                
                t.classList.add("btn-danger")
                document.getElementById(id).innerHTML="Wrong<br>"
                document.getElementById(id).innerHTML+="Correct option is "+ans;
            }
            
            console.log(t)
            t.
            
            
            total+=1
            
        }
        function check(){
            var per=score/total;
            per*=100;
            per=per.toFixed(2)
            per=parseInt(per)
            if (per==NaN){
                per=0
            }

            alert("score --> "+per+"%")
        }




    </script>
    
</body>
</html>